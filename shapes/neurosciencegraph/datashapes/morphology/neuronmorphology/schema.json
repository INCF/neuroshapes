{
  "@context": [
    "https://incf.github.io/neuroshapes/contexts/schema.json",
    {
      "this": "https://neuroshapes.org/dash/neuronmorphology/shapes/"
    }
  ],
  "@id": "https://neuroshapes.org/dash/neuronmorphology",
  "@type": "nxv:Schema",
  "imports": [
    "https://neuroshapes.org/commons/minds"
  ],
  "shapes": [
    {
      "@id": "this:NeuronMorphology",
      "@type": "sh:NodeShape",
      "label": "Definition of a neuron morphology, whether it comes from a stack, a slice, was synthetized in-silico, is whole brain or local to a single brain region",
      "targetClass": [
        "nsg:NeuronMorphology"
      ],
      "nodeKind": "sh:BlankNodeOrIRI",
      "and": [
        {
          "node": "https://neuroshapes.org/commons/minds"
        },
        {
          "property": [

            {
              "path": "nsg:isRegisteredIn",
              "class": "nsg:BrainAtlasSpatialReferenceSystem",
              "maxCount": 1
            },

            {
              "path": "nsg:brainLocation",
              "name": "brain location",
              "description": "Brain Location of the soma (brain region, atlas space).",
              "node": "this:BrainLocationShape",
              "minCount": 1,
              "maxCount": 1
            },


            {
              "path": "nsg:morphologyOrigin",
              "name": "Morphology origin",
              "description": "The kind of data or material a morphology was generated from.",
              "in": [
                "slice",
                "volume",
                "in-silico",
                "other"
              ],
              "minCount": 1,
              "maxCount": 1
            },


            {
              "path": "nsg:somaNumberOfPoints",
              "name": "Soma number of points",
              "description": "Number of points involved in the modelisation of the soma",
              "datatype": "xsd:int",
              "minCount": 1,
              "maxCount": 1
            },

            {
              "path": "nsg:numberOfApicalDendrites",
              "name": "Number of apical dendrites",
              "description": "Number of apical dendrites rooting from the soma",
              "datatype": "xsd:int",
              "minCount": 1,
              "maxCount": 1
            },

            {
              "path": "nsg:numberOfBasalDendrites",
              "name": "Number of basal dendrites",
              "description": "Number of basal dendrites rooting from the soma",
              "datatype": "xsd:int",
              "minCount": 1,
              "maxCount": 1
            },

            {
              "path": "nsg:numberOfAxons",
              "name": "Number of axons",
              "description": "Number of axons rooting from the soma",
              "datatype": "xsd:int",
              "minCount": 1,
              "maxCount": 1
            },


            {
              "path": "nsg:apicalDendriteCumulatedLength",
              "name": "Apical dendrite cumulated length",
              "description": "Cumulated length of all the segments of all the apical dendrites present in this morphology, in the metric unit spacified in the linked brain location or spatial reference system (most likely micrometer)",
              "datatype": "xsd:long",
              "minCount": 1,
              "maxCount": 1
            },


            {
              "path": "nsg:basalDendriteCumulatedLength",
              "name": "Basal dendrite cumulated length",
              "description": "Cumulated length of all the segments of all the basal dendrites present in this morphology, in the metric unit spacified in the linked brain location or spatial reference system (most likely micrometer)",
              "datatype": "xsd:long",
              "minCount": 0,
              "maxCount": 1
            },


            {
              "path": "nsg:axonCumulatedLength",
              "name": "Axon cumulated length",
              "description": "Cumulated length of all the segments of all the axons present in this morphology, in the metric unit spacified in the linked brain location or spatial reference system (most likely micrometer)",
              "datatype": "xsd:long",
              "minCount": 0,
              "maxCount": 1
            },


            {
              "path": "nsg:apicalDendriteTraversedRegions",
              "name": "Apical dendrite traversed regions",
              "description": "List of brain regions being traversed by the apical dendrites of this neuron morphology",
              "datatype": "nsg:brainRegion <TO FIX, this is not the correct type>"
            },

            {
              "path": "nsg:basalDendriteTraversedRegions",
              "name": "Basal dendrite traversed regions",
              "description": "List of brain regions being traversed by the basal dendrites of this neuron morphology",
              "datatype": "nsg:brainRegion <TO FIX, this is not the correct type>"
            },

            {
              "path": "nsg:axonTraversedRegions",
              "name": "Axon traversed regions",
              "description": "List of brain regions being traversed by the axons of this neuron morphology",
              "datatype": "nsg:brainRegion <TO FIX, this is not the correct type>"
            },







            {
              "path": "nsg:dimension",
              "name": "Dimensions",
              "description": "List of dimensions, spectral (components), spatial or temporal, in the order of encoding in the buffer, from the fastest axis to the slowest axis.",
              "minCount": 1
            },
            {
              "path": "nsg:worldMatrix",
              "name": "World matrix",
              "description": "Column major matrix to perform the affine transformation from voxel position to world position. In world position, the measurement unit is 'spatialUnit'. The size of this matrix is numberOfSpatialDimensions x numberOfSpatialDimensions."
            },
            {
              "path": "nsg:sampleType",
              "name": "Sample type",
              "description": "Description of what kind of element a sample (pixel or voxel) represent. It can be an intensity, a RGB color, a vector 2D or 3D, a quaternio, a label, a binary mask, etc.",
              "in": [
                "intensity",
                "multispectralIntensity",
                "label",
                "mask",
                "vector"
              ],
              "minCount": 1,
              "maxCount": 1
            },
            {
              "path": "nsg:componentEncoding",
              "name": "Component Encoding",
              "description": "Encoding type of each component within a sample (pixels or voxels), if we have multiple components such as in RGB, vectors or quaternions, the componentDataType is applicable to each component. Ex: 'uint8', 'float32'",
              "in": [
                "ascii",
                "uint8",
                "int8",
                "uint16",
                "int16",
                "uint32",
                "int32",
                "uint64",
                "int64",
                "float16",
                "float32",
                "float64"
              ],
              "minCount": 1,
              "maxCount": 1
            },
            {
              "path": "nsg:endianness",
              "name": "Endianness",
              "description": "Endianness of the encoding, applicable for all componentDataType but not usefull for uint8 int8 and ascii",
              "in": [
                "little",
                "big"
              ],
              "minCount": 1,
              "maxCount": 1
            },
            {
              "path": "nsg:bufferEncoding",
              "name": "Buffer Encoding",
              "description": "Encoding of the data part of the dataset (not the header)",
              "or": [
                {
                  "in": [
                    "ascii",
                    "raw",
                    "gzip",
                    "bzip2"
                  ]
                },
                {
                  "datatype": "xsd:string"
                }
              ],
              "minCount": 1,
              "maxCount": 1
            },
            {
              "path": "nsg:fileExtension",
              "name": "File Extension",
              "description": "Format of the file, by its extension ('nrrd', 'png', etc.)",
              "datatype": "xsd:string",
              "minCount": 1,
              "maxCount": 1
            }
          ]
        }
      ]
    },






    {
      "@id": "this:BrainLocationShape",
      "@type": "sh:NodeShape",
      "label": "A morphology release distribution shape.",
      "nodekind": "sh:BlankNodeOrIRI",
      "and": [
        {
          "node": "https://neuroshapes.org/commons/brainlocation/shapes/BrainLocationShape"
        },
        {
          "property": [
            {
              "path": "nsg:atlasSpatialReferenceSystem",
              "name": "Atlas Spatial Reference System",
              "class": "nsg:BrainAtlasSpatialReferenceSystem",
              "minCount": 1,
              "maxCount": 1
            }
          ]
        }
      ]
    }

  ]
}
