{
  "@context": [
    "https://incf.github.io/neuroshapes/contexts/schema.json",
    {
      "this": "https://neuroshapes.org/dash/neuronmorphology/shapes/"
    }
  ],
  "@id": "https://neuroshapes.org/dash/neuronmorphology",
  "@type": "nxv:Schema",
  "imports": [
    "https://neuroshapes.org/core/dataset",
    "https://neuroshapes.org/commons/quantitativevalue"
  ],
  "shapes": [
    {
      "@id": "this:NeuronMorphologyShape",
      "@type": "sh:NodeShape",
      "label": "Definition of a neuron morphology, whether it comes from a stack, a slice, was synthetized in-silico, is whole brain or local to a single brain region",
      "targetClass": [
        "nsg:NeuronMorphology"
      ],
      "nodeKind": "sh:BlankNodeOrIRI",
      "and": [
        {
          "node": "https://neuroshapes.org/core/dataset/shapes/DatasetShape"
        },
        {
          "property": [

            {
              "path": "nsg:isRegisteredIn", // change the name
              "class": "nsg:BrainAtlasSpatialReferenceSystem",
              "maxCount": 1
            },




            { // use types instead? Or taxonomy? (revise the set of types)
              "path": "nsg:morphologyOrigin",
              "name": "Morphology origin",
              "description": "The kind of data or material a morphology was generated from.",
              "in": [
                "slice",
                "volume",
                "in-silico",
                "other"
              ],
              "minCount": 1,
              "maxCount": 1
            },


            {
              "path": "nsg:somaNumberOfPoints",
              "name": "Soma number of points",
              "description": "Number of points involved in the modelisation of the soma",
              "datatype": "xsd:int",
              "minCount": 0,
              "maxCount": 1
            },

            {
              "path": "nsg:numberOfApicalDendrites",
              "name": "Number of apical dendrites",
              "description": "Number of apical dendrites rooting from the soma",
              "datatype": "xsd:int",
              "minCount": 0,
              "maxCount": 1
            },

            {
              "path": "nsg:numberOfBasalDendrites",
              "name": "Number of basal dendrites",
              "description": "Number of basal dendrites rooting from the soma",
              "datatype": "xsd:int",
              "minCount": 0,
              "maxCount": 1
            },

            {
              "path": "nsg:numberOfAxons",
              "name": "Number of axons",
              "description": "Number of axons rooting from the soma",
              "datatype": "xsd:int",
              "minCount": 0,
              "maxCount": 1
            },


            {
              "path": "nsg:apicalDendriteCumulatedLength",
              "name": "Apical dendrite cumulated length",
              "description": "Cumulated length of all the segments of all the apical dendrites present in this morphology, in the metric unit specified in the linked brain location or spatial reference system (most likely micrometer)",
              "node": "https://neuroshapes.org/commons/quantitativevalue/shapes/QuantitativeValueShape",
              "minCount": 0,
              "maxCount": 1
            },


            {
              "path": "nsg:basalDendriteCumulatedLength",
              "name": "Basal dendrite cumulated length",
              "description": "Cumulated length of all the segments of all the basal dendrites present in this morphology, in the metric unit specified in the linked brain location or spatial reference system (most likely micrometer)",
              "node": "https://neuroshapes.org/commons/quantitativevalue/shapes/QuantitativeValueShape",
              "minCount": 0,
              "maxCount": 1
            },


            {
              "path": "nsg:axonCumulatedLength",
              "name": "Axon cumulated length",
              "description": "Cumulated length of all the segments of all the axons present in this morphology, in the metric unit specified in the linked brain location or spatial reference system (most likely micrometer)",
              "node": "https://neuroshapes.org/commons/quantitativevalue/shapes/QuantitativeValueShape",
              "minCount": 0,
              "maxCount": 1
            },


            {
              "path": "nsg:apicalDendriteTraversedRegions",
              "name": "Apical dendrite traversed regions",
              "description": "List of brain regions being traversed by the apical dendrites of this neuron morphology",
              "node": "nsg:ParcellationOntology <TO FIX: This is probably not the correct node/type. Here we want things like 'mba:997'>"
            },

            {
              "path": "nsg:basalDendriteTraversedRegions",
              "name": "Basal dendrite traversed regions",
              "description": "List of brain regions being traversed by the basal dendrites of this neuron morphology",
              "datatype": "nsg:ParcellationOntology <TO FIX: This is probably not the correct node/type. Here we want things like 'mba:997'"
            },

            {// "BrainRegion", not just "Region"
              "path": "nsg:axonTraversedBrainRegions",
              "name": "Axon traversed regions",
              "description": "List of brain regions being traversed by the axons of this neuron morphology",
              "datatype": "nsg:ParcellationOntology <TO FIX: This is probably not the correct node/type. Here we want things like 'mba:997'"
            },

            {
              "path": "nsg:axonProjectionRegion",
              "name": "Axon projection region",
              "description": "Brain region where the axon projection is",
              "datatype": "nsg:ParcellationOntology <TO FIX: This is probably not the correct node/type. Here we want things like 'mba:997'"
            }       

            // of have an axon object, with sub-prop being projection and traversed. And reuse this object for 
            // dendrite
          ]
        }
      ]
    }



  ]
}
